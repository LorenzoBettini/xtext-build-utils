language: java

matrix:
  fast_finish: true
  include:
    - os: linux
      dist: xenial
      jdk: openjdk8
      services:
      - xvfb
      env: ADDITIONAL=""
    - os: osx
      osx_image: xcode10.1
      jdk: openjdk11
      env: ADDITIONAL=""

cache:
  directories:
    - '$HOME/.m2'

install: true

before_install:
 - echo $JAVA_HOME

script:
 - export
 - bash -e ./travis_build.sh

# removes our installed artifacts before storing the cache
before_cache:
 - find $HOME/.m2/repository -name "*lorenzobettini*" -exec rm -rf {} \+

